# [Gold III] ë‘ ë°°ì—´ì˜ í•© - 2143 

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/2143) 

### ë¶„ë¥˜

ì´ë¶„ íƒìƒ‰, ìë£Œ êµ¬ì¡°, í•´ì‹œë¥¼ ì‚¬ìš©í•œ ì§‘í•©ê³¼ ë§µ, ëˆ„ì  í•©

### ë¬¸ì œ ì„¤ëª…

<p>í•œ ë°°ì—´ A[1], A[2], â€¦, A[n]ì— ëŒ€í•´ì„œ, ë¶€ ë°°ì—´ì€ A[i], A[i+1], â€¦, A[j-1], A[j] (ë‹¨, 1 â‰¤ i â‰¤ j â‰¤ n)ì„ ë§í•œë‹¤. ì´ëŸ¬í•œ ë¶€ ë°°ì—´ì˜ í•©ì€ A[i]+â€¦+A[j]ë¥¼ ì˜ë¯¸í•œë‹¤. ê° ì›ì†Œê°€ ì •ìˆ˜ì¸ ë‘ ë°°ì—´ A[1], â€¦, A[n]ê³¼ B[1], â€¦, B[m]ì´ ì£¼ì–´ì¡Œì„ ë•Œ, Aì˜ ë¶€ ë°°ì—´ì˜ í•©ì— Bì˜ ë¶€ ë°°ì—´ì˜ í•©ì„ ë”í•´ì„œ Tê°€ ë˜ëŠ” ëª¨ë“  ë¶€ ë°°ì—´ ìŒì˜ ê°œìˆ˜ë¥¼ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.</p>

<p>ì˜ˆë¥¼ ë“¤ì–´ A = {1, 3, 1, 2}, B = {1, 3, 2}, T=5ì¸ ê²½ìš°, ë¶€ ë°°ì—´ ìŒì˜ ê°œìˆ˜ëŠ” ë‹¤ìŒì˜ 7ê°€ì§€ ê²½ìš°ê°€ ìˆë‹¤.</p>

<pre>T(=5) = A[1] + B[1] + B[2]
      = A[1] + A[2] + B[1]
      = A[2] + B[3]
      = A[2] + A[3] + B[1]
      = A[3] + B[1] + B[2]
      = A[3] + A[4] + B[3]
      = A[4] + B[2] </pre>

### ì…ë ¥ 

 <p>ì²«ì§¸ ì¤„ì— T(-1,000,000,000 â‰¤ T â‰¤ 1,000,000,000)ê°€ ì£¼ì–´ì§„ë‹¤. ë‹¤ìŒ ì¤„ì—ëŠ” n(1 â‰¤ n â‰¤ 1,000)ì´ ì£¼ì–´ì§€ê³ , ê·¸ ë‹¤ìŒ ì¤„ì— nê°œì˜ ì •ìˆ˜ë¡œ A[1], â€¦, A[n]ì´ ì£¼ì–´ì§„ë‹¤. ë‹¤ìŒ ì¤„ì—ëŠ” m(1 â‰¤ m â‰¤ 1,000)ì´ ì£¼ì–´ì§€ê³ , ê·¸ ë‹¤ìŒ ì¤„ì— mê°œì˜ ì •ìˆ˜ë¡œ B[1], â€¦, B[m]ì´ ì£¼ì–´ì§„ë‹¤. ê°ê°ì˜ ë°°ì—´ ì›ì†ŒëŠ” ì ˆëŒ“ê°’ì´ 1,000,000ì„ ë„˜ì§€ ì•ŠëŠ” ì •ìˆ˜ì´ë‹¤.</p>

### ì¶œë ¥ 

 <p>ì²«ì§¸ ì¤„ì— ë‹µì„ ì¶œë ¥í•œë‹¤. ê°€ëŠ¥í•œ ê²½ìš°ê°€ í•œ ê°€ì§€ë„ ì—†ì„ ê²½ìš°ì—ëŠ” 0ì„ ì¶œë ¥í•œë‹¤.</p>



#  ğŸš€  ì˜¤ë‹µë…¸íŠ¸ 

```diff
import java.util.*;
import java.io.*;

public class Main {
    static int N, M, T;
    static int[] nArr;
    static int[] mArr;
    static long[] nSumArr;
    static long[] mSumArr;
    
    public static void main(String[] args) throws IOException{
        // ì½”ë“œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        
        T = Integer.valueOf(br.readLine());
        
        N = Integer.valueOf(br.readLine());
        nArr = new int[N];
        nSumArr = new long[N+1];
        String[] input = br.readLine().split(" ");
        for(int i=0; i<N; i++){
            nArr[i] = Integer.valueOf(input[i]);
            nSumArr[i+1] = nSumArr[i] + nArr[i];
        }
        
        // System.out.println(Arrays.toString(nArr));
        // System.out.println(Arrays.toString(nSumArr));
        
        M = Integer.valueOf(br.readLine());
        mArr = new int[M];
        mSumArr = new long[M+1];
        input = br.readLine().split(" ");
        for(int i=0; i<M; i++){
            mArr[i] = Integer.valueOf(input[i]);
            mSumArr[i+1] = mSumArr[i] + mArr[i];
        }
        
-        Map<Long, Integer> nMap = new HashMap<>();
+        Map<Long, Long> nMap = new HashMap<>();
        for(int i=1; i<=N; i++){
            for(int j=0; j<i; j++){
                long key = nSumArr[i] - nSumArr[j];
-                nMap.put(key, nMap.getOrDefault(key, 0)+1);
+                nMap.put(key, nMap.getOrDefault(key, 0L)+1);
            }
        }
-        Map<Long, Integer> mMap = new HashMap<>();
+        Map<Long, Long> mMap = new HashMap<>();
        for(int i=1; i<=M; i++){
            for(int j=0; j<i; j++){
                long key = mSumArr[i] - mSumArr[j];
-                mMap.put(key, mMap.getOrDefault(key, 0)+1);
+                mMap.put(key, mMap.getOrDefault(key, 0L)+1);
            }
        }
                
-        int cnt = 0;
+        long cnt = 0;
        for(long a : nMap.keySet()){
            if(mMap.containsKey(T-a)){
                cnt += nMap.get(a) * mMap.get(T-a);
            }
        }
        System.out.println(cnt);
    }
}

```


 ## ğŸ† ì „ì²´ ì½”ë©˜íŠ¸ 

1. ê²½ìš°ì˜ ìˆ˜ë¥¼ êµ¬í•´ì•¼í•˜ëŠ”ë°, ì´ë•Œ ëˆ„ì í•©ì„ ì‚¬ìš©í•œë‹¤. ê·¸ë¦¬ê³  Mapì„ ì‚¬ìš©í•´ì„œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ê²½ìš°ì™€ ê·¸ ê°¯ìˆ˜ê¹Œì§€ë„ ê¸°ë¡í•œë‹¤.
2. nMapì„ ëŒë©° T-aì˜ í‚¤ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš° ë‘ ê²½ìš°ì˜ ê°¯ìˆ˜ë¥¼ ê³±í•´ì„œ ê²½ìš°ì˜ ìˆ˜ë¥¼ êµ¬í•œë‹¤.
3. ì—¬ê¸°ì„œ ì£¼ì˜í•´ì•¼í•  ì ì€, ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ê²½ìš°ì˜ ê°¯ìˆ˜ë¥¼ mapìœ¼ë¡œ ì €ì¥í•  ë•Œì™€ cntë¥¼ êµ¬í•  ë•Œ Long íƒ€ì…ìœ¼ë¡œ í•´ì¤˜ì•¼ overflowê°€ ì•ˆë‚œë‹¤.
