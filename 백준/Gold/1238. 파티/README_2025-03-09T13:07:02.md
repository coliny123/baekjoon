# [Gold III] íŒŒí‹° - 1238 

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/1238) 

### ë¶„ë¥˜

ë°ì´í¬ìŠ¤íŠ¸ë¼, ê·¸ë˜í”„ ì´ë¡ , ìµœë‹¨ ê²½ë¡œ

### ë¬¸ì œ ì„¤ëª…

<p>Nê°œì˜ ìˆ«ìë¡œ êµ¬ë¶„ëœ ê°ê°ì˜ ë§ˆì„ì— í•œ ëª…ì˜ í•™ìƒì´ ì‚´ê³  ìˆë‹¤.</p>

<p>ì–´ëŠ ë‚  ì´ Nëª…ì˜ í•™ìƒì´ X (1 â‰¤ X â‰¤ N)ë²ˆ ë§ˆì„ì— ëª¨ì—¬ì„œ íŒŒí‹°ë¥¼ ë²Œì´ê¸°ë¡œ í–ˆë‹¤. ì´ ë§ˆì„ ì‚¬ì´ì—ëŠ” ì´ Mê°œì˜ ë‹¨ë°©í–¥ ë„ë¡œë“¤ì´ ìˆê³  ië²ˆì§¸ ê¸¸ì„ ì§€ë‚˜ëŠ”ë° T<sub>i</sub>(1 â‰¤ T<sub>i</sub> â‰¤ 100)ì˜ ì‹œê°„ì„ ì†Œë¹„í•œë‹¤.</p>

<p>ê°ê°ì˜ í•™ìƒë“¤ì€ íŒŒí‹°ì— ì°¸ì„í•˜ê¸° ìœ„í•´ ê±¸ì–´ê°€ì„œ ë‹¤ì‹œ ê·¸ë“¤ì˜ ë§ˆì„ë¡œ ëŒì•„ì™€ì•¼ í•œë‹¤. í•˜ì§€ë§Œ ì´ í•™ìƒë“¤ì€ ì›Œë‚™ ê²Œì„ëŸ¬ì„œ ìµœë‹¨ ì‹œê°„ì— ì˜¤ê³  ê°€ê¸°ë¥¼ ì›í•œë‹¤.</p>

<p>ì´ ë„ë¡œë“¤ì€ ë‹¨ë°©í–¥ì´ê¸° ë•Œë¬¸ì— ì•„ë§ˆ ê·¸ë“¤ì´ ì˜¤ê³  ê°€ëŠ” ê¸¸ì´ ë‹¤ë¥¼ì§€ë„ ëª¨ë¥¸ë‹¤. Nëª…ì˜ í•™ìƒë“¤ ì¤‘ ì˜¤ê³  ê°€ëŠ”ë° ê°€ì¥ ë§ì€ ì‹œê°„ì„ ì†Œë¹„í•˜ëŠ” í•™ìƒì€ ëˆ„êµ¬ì¼ì§€ êµ¬í•˜ì—¬ë¼.</p>

### ì…ë ¥ 

 <p>ì²«ì§¸ ì¤„ì— N(1 â‰¤ N â‰¤ 1,000), M(1 â‰¤ M â‰¤ 10,000), Xê°€ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì…ë ¥ëœë‹¤. ë‘ ë²ˆì§¸ ì¤„ë¶€í„° M+1ë²ˆì§¸ ì¤„ê¹Œì§€ ië²ˆì§¸ ë„ë¡œì˜ ì‹œì‘ì , ëì , ê·¸ë¦¬ê³  ì´ ë„ë¡œë¥¼ ì§€ë‚˜ëŠ”ë° í•„ìš”í•œ ì†Œìš”ì‹œê°„ T<sub>i</sub>ê°€ ë“¤ì–´ì˜¨ë‹¤. ì‹œì‘ì ê³¼ ëì ì´ ê°™ì€ ë„ë¡œëŠ” ì—†ìœ¼ë©°, ì‹œì‘ì ê³¼ í•œ ë„ì‹œ Aì—ì„œ ë‹¤ë¥¸ ë„ì‹œ Bë¡œ ê°€ëŠ” ë„ë¡œì˜ ê°œìˆ˜ëŠ” ìµœëŒ€ 1ê°œì´ë‹¤.</p>

<p>ëª¨ë“  í•™ìƒë“¤ì€ ì§‘ì—ì„œ Xì— ê°ˆìˆ˜ ìˆê³ , Xì—ì„œ ì§‘ìœ¼ë¡œ ëŒì•„ì˜¬ ìˆ˜ ìˆëŠ” ë°ì´í„°ë§Œ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§„ë‹¤.</p>

### ì¶œë ¥ 

 <p>ì²« ë²ˆì§¸ ì¤„ì— Nëª…ì˜ í•™ìƒë“¤ ì¤‘ ì˜¤ê³  ê°€ëŠ”ë° ê°€ì¥ ì˜¤ë˜ ê±¸ë¦¬ëŠ” í•™ìƒì˜ ì†Œìš”ì‹œê°„ì„ ì¶œë ¥í•œë‹¤.</p>



#  ğŸš€  ì˜¤ë‹µë…¸íŠ¸ 

```diff
import java.util.*;
import java.io.*;

class Node implements Comparable<Node>{
    int idx, weight;
    
    public Node(int idx, int weight){
        this.idx=idx;
        this.weight=weight;
    }
    
    @Override
    public int compareTo(Node o){
        return weight - o.weight;
    }
}

public class Main {
    static int N, M, X;
    static ArrayList<Node>[] graph;
+    static ArrayList<Node>[] reverseGraph;
    static int[] dist;
    
    public static void main(String[] args) throws IOException{
        // ì½”ë“œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        
        String[] input = br.readLine().split(" ");
        N = Integer.valueOf(input[0]);
        M = Integer.valueOf(input[1]);
        X = Integer.valueOf(input[2]) - 1;
        
        graph = new ArrayList[N];
+        reverseGraph = new ArrayList[N];
        for(int i=0; i<N; i++){
            graph[i] = new ArrayList<>();
+            reverseGraph[i] = new ArrayList<>();
        }
        
        while(M-- > 0){
            input = br.readLine().split(" ");
            int st = Integer.valueOf(input[0]) - 1;
            int ed = Integer.valueOf(input[1]) - 1;
            int w = Integer.valueOf(input[2]);
            
            graph[st].add(new Node(ed, w));
+            reverseGraph[ed].add(new Node(st, w));
        }
        
+        // X ì—ì„œ ì§‘ìœ¼ë¡œ ëŒì•„ê°€ëŠ” ê·¸ë˜í”„
        int[] sum = new int[N];
+        dist = new int[N];
+        Arrays.fill(dist, 1000000000);
+        dijkstra(X, graph);
+        
        for(int i=0; i<N; i++){
-            if(i == X) continue;
-            dist = new int[N];
-            Arrays.fill(dist, 1000000000);
-            dijkstra(i);
-            sum[i] += dist[X];
+            sum[i] += dist[i];
        }
        
+        // ë°˜ëŒ€ë¡œ ë°”ê¾¼ ê·¸ë˜í”„(Xë¡œ ì˜¤ëŠ” ê°€ì¤‘ì¹˜ ì°¾ê¸° ìœ„í•¨)
        dist = new int[N];
        Arrays.fill(dist, 1000000000);
-        dijkstra(X);
+        dijkstra(X, reverseGraph);
        
        int max = 0;
        for(int i=0; i<N; i++){
-            if(i == X) continue;
            sum[i] += dist[i];
            max = Math.max(max, sum[i]);
        }
        
        System.out.println(max);
    }
    
-    static void dijkstra(int st){
+    static void dijkstra(int st, ArrayList<Node>[] graph){
        PriorityQueue<Node> pq = new PriorityQueue<>();
        dist[st] = 0;
        pq.add(new Node(st, 0));
        
        while(!pq.isEmpty()){
            Node cur = pq.poll();
            
            for(int i=0; i<graph[cur.idx].size(); i++){
                Node nx = graph[cur.idx].get(i);
                if(dist[nx.idx] > dist[cur.idx] + nx.weight){
                    dist[nx.idx] = dist[cur.idx] + nx.weight;
                    pq.add(new Node(nx.idx, dist[nx.idx]));
                }
            }
        }
    }
}

```


 ## ğŸ† ì „ì²´ ì½”ë©˜íŠ¸ 

1. ì²˜ìŒì—ëŠ” ëª¨ë“  Nì— ëŒ€í•´ì„œ dijkstraë¥¼ ë‹¤ ëŒë¦¬ëŠ” ë°©ë²•ì„ ìƒê°í–ˆì§€ë§Œ í•´ë‹¹ ë°©ë²•ì€ Nì´ ë” ì»¤ì§€ë©´ ì‹œê°„ ì´ˆê³¼ê°€ ë°œìƒí•œë‹¤.
2. reverseGraphë¥¼ ë§Œë“¤ì–´ì„œ ë°©í–¥ì„ ë°˜ëŒ€ë¡œ  ì €ì¥í•´ë‘ë©´ ëª¨ë“  ë…¸ë“œì—ì„œ Xë¡œ ê°€ëŠ” ê°€ì¤‘ì¹˜ë¥¼ Xì—ì„œ dijkstra í•œ ë²ˆìœ¼ë¡œ ì•Œ ìˆ˜ ìˆë‹¤.
3. ì´ ë‘ ë²ˆì˜ dijkstraë¡œ ìµœì í™” ê°€ëŠ¥